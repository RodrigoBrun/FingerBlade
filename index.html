<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fingerblade: TrickBattle Arena</title>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/phosphor-icons"></script>

    <!-- AOS Animations -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />

    <!-- Main CSS -->
    <link rel="stylesheet" href="css/styles.css" />
</head>

<body>

<div class="splash-screen" id="splashScreen">
    <div class="splash-inner">
        <div class="splash-logo">
            <img src="imagenes/LOGO.png" alt="Fingerblade Logo">
        </div>
        <div class="splash-subtitle" id="splashSubtitle">INICIANDO ARENA...</div>
        <div class="splash-tap-hint" id="splashTapHint">tocar para entrar</div>
    </div>
</div>




    <div class="app-wrapper">

        <!-- =========================================================
         HEADER / BRAND (siempre visible arriba)
        ========================================================== -->
       <header class="app-header" data-aos="fade-down">
    <div class="brand-block">
        <div class="brand-logo">
            <!-- reemplazo del placeholder "FB" por tu logo real -->
            <div class="logo-img-wrapper">
                <img src="imagenes/LOGO.png" alt="Fingerblade Logo">
            </div>
        </div>

        <div class="brand-text">
            <h1 class="brand-title">FINGERBLADE</h1>
            <p class="brand-sub">TRICKBATTLE ARENA</p>
        </div>
    </div>

    <div class="match-info-top">
        <div class="arena-badge">
            <i class="ph ph-flame"></i>
            <span id="arenaName">Arena: Coliseo SkatePark</span>
        </div>

        <div class="mode-badge" id="modeBadge">
            <i class="ph ph-swords"></i>
            <span>Sin partida</span>
        </div>
    </div>
</header>


        <!-- =========================================================
         HEADER DE SETUP MOBILE (barra con "Volver" y paso actual)
         - El JS la muestra / oculta din√°micamente
         - Por defecto puede estar display:none en CSS (en desktop) y flex en mobile
           pero SIN inline style ac√° (esto es importante)
        ========================================================== -->
        <div class="setup-header-mobile" id="setupHeaderMobile">
            <button class="back-btn" id="backBtn">
                <i class="ph ph-arrow-left"></i>
                <span>Volver</span>
            </button>
            <div class="setup-step-label" id="setupStepLabel">Setup</div>
        </div>

        <!-- =========================================================
         SETUP SCREEN (pantallas previas a empezar la batalla)
        ========================================================== -->
        <section class="setup-screen" id="setupScreen">

            <!-- Paso 1: Elegir tipo de partida -->
            <!-- IMPORTANTE: este card es la ra√≠z del flujo -> id="card-mode" para el stack -->
            <div class="card card-mode" id="card-mode" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-game-controller"></i> Tipo de partida</h2>

                <div class="mode-options">
                    <button class="btn mode-select" data-mode="local">
                        <i class="ph ph-users-three"></i>
                        <span>Multijugador local</span>
                        <small>Juegan en la misma mesa, turn√°ndose</small>
                    </button>

                    <button class="btn mode-select" data-mode="ia">
                        <i class="ph ph-robot"></i>
                        <span>Contra IA</span>
                        <small>Desaf√≠o 1v1 contra personajes</small>
                    </button>

                    <button class="btn mode-select" data-mode="chill">
                        <i class="ph ph-coffee"></i>
                        <span>Modo Chill</span>
                        <small>Solo los trucos que yo elijo</small>
                    </button>
                </div>
            </div>


            <!-- GU√çA / REGLAS -->
            <div class="card card-rules" id="card-rules" data-aos="zoom-in">
                <h2 class="card-title">
                    <i class="ph ph-book-open-text"></i>
                    C√≥mo se juega
                </h2>

                <div class="rules-section">
                    <div class="rule-row">
                        <div class="rule-icon"><i class="ph ph-play-circle"></i></div>
                        <div class="rule-text">
                            <div class="rule-head">1. Llamar el truco</div>
                            <div class="rule-desc">En pantalla se muestra el truco que deber√° ser realizado. Si lo cae, el resto tiene que copiar.
                            </div>
                        </div>
                    </div>

                    <div class="rule-row">
                        <div class="rule-icon"><i class="ph ph-copy"></i></div>
                        <div class="rule-text">
                            <div class="rule-head">2. Copiar o comerte letra</div>
                            <div class="rule-desc">
                                Si te toca copiar y fall√°s, te com√©s una letra de
                                <span class="rule-word">FINGER</span>. Si junt√°s todas las letras -> perdiste.
                            </div>
                        </div>
                    </div>

                    <div class="rule-row">
                        <div class="rule-icon"><i class="ph ph-gauge"></i></div>
                        <div class="rule-text">
                            <div class="rule-head">3. Respeto (tu barra verde)</div>
                            <div class="rule-desc">
                                El Respeto sube cuando met√©s trucos y baja cuando fall√°s feo.
                                El Respeto te da perks durante la batalla (mir√° abajo).
                            </div>
                        </div>
                    </div>

                    <div class="rule-row">
                        <div class="rule-icon"><i class="ph ph-sword"></i></div>
                        <div class="rule-text">
                            <div class="rule-head">4. Turnos</div>
                            <div class="rule-desc">
                                El turno va rotando jugador por jugador. Siempre hay alguien
                                <span class="inline-badge demo">demostrando</span>
                                y alguien
                                <span class="inline-badge copy">copiando</span>.
                            </div>
                        </div>
                    </div>

                    <div class="rule-row">
                        <div class="rule-icon"><i class="ph ph-skull"></i></div>
                        <div class="rule-text">
                            <div class="rule-head">5. Eliminaci√≥n</div>
                            <div class="rule-desc">
                                Cuando un jugador completa la palabra <span class="rule-word">FINGER</span>, queda OUT.
                                √öltimo vivo gana üèÜ.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rules-perks">
                    <div class="perks-title">
                        <i class="ph ph-lightning"></i>
                        Ventajas / Castigos del Respeto
                    </div>

                    <ul class="perks-list">
                        <li>
                            <span class="perk-badge high">Respeto 80+</span>
                            <span class="perk-desc">
                                Si fall√°s copiando, NO te com√©s letra. Sos demasiado respetado para que te humillen tan
                                f√°cil üòé
                            </span>
                        </li>

                        <li>
                            <span class="perk-badge god">Respeto 100</span>
                            <span class="perk-desc">
                                Ten√©s derecho a dos intentos extra cuando demostr√°s un truco.
                                Aunque falles los dos, no perd√©s letra por ese truco.
                            </span>
                        </li>

                        <li>
                            <span class="perk-badge low">Respeto bajo (0-20)</span>
                            <span class="perk-desc">
                                Fallaste? Te com√©s <strong>2 letras</strong> de una. La gente te est√° mirando raro, bro
                                üíÄ
                            </span>
                        </li>

                        <li>
                            <span class="perk-badge minus">Respeto negativo</span>
                            <span class="perk-desc">
                                Si fall√°s copiando, qued√°s autom√°ticamente a <strong>una letra</strong> de perder.
                                Sos meme vivo.
                            </span>
                        </li>
                    </ul>
                </div>

                <div class="rules-tips">
                    <div class="tips-title">
                        <i class="ph ph-target"></i>
                        Tips para ganar
                    </div>

                    <ul class="tips-list">
                        <li>
                            Hac√© trucos que vos met√©s siempre, no los m√°s locos. Acumula Respeto r√°pido y volvete
                            intocable.
                        </li>
                        <li>
                            Cuando el otro est√° con Respeto bajo: llamale algo t√©cnico. Si falla, se come 2 letras de
                            una.
                        </li>
                        <li>
                            Si vos ten√©s Respeto alto, pod√©s arriesgar trucos m√°s caros:
                            literalmente no te castigan igual.
                        </li>
                        <li>
                            √öltima ronda? Llama algo que el rival odia. Tu trabajo es darle letras, no impresionar a
                            YouTube.
                        </li>
                    </ul>
                </div>
            </div>


            <!-- Paso 1.5 (solo modo chill): elegir trucos -->
            <div class="card card-tricks hidden" id="trickSelectCard" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-check-square-offset"></i> Eleg√≠ tus trucos</h2>
                <p class="card-desc">Marc√° solo los trucos con los que te sent√≠s c√≥modo. La batalla va a usar SOLO esos.
                </p>

                <div class="trick-select-list" id="trickSelectList">
                    <!-- JS inyecta opciones tipo checkbox -->
                </div>

                <button class="btn btn-confirm" id="confirmTricksBtn">
                    <i class="ph ph-check-circle"></i>
                    Usar estos trucos
                </button>
            </div>

            <!-- Paso 1.5b (solo modo chill): ¬øContra qui√©n jug√°s? -->
            <div class="card card-chill-vs hidden" id="chillVsCard" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-swap"></i> ¬øContra qui√©n jug√°s?</h2>
                <p class="card-desc">Eleg√≠ el formato de la batalla con esos trucos seleccionados.</p>

                <div class="mode-options">
                    <button class="btn btn-chill-vs" id="chillVsLocalBtn">
                        <i class="ph ph-users-three"></i>
                        <span>Multijugador local</span>
                        <small>Ustedes se desaf√≠an con esa lista de trucos</small>
                    </button>

                    <button class="btn btn-chill-vs" id="chillVsIABtn">
                        <i class="ph ph-robot"></i>
                        <span>Contra IA</span>
                        <small>1v1 usando solo esos trucos</small>
                    </button>
                </div>
            </div>

            <!-- Paso 2A: Selecci√≥n de cantidad de jugadores (local / chill local) -->
            <div class="card card-players hidden" id="playerCountCard" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-user-plus"></i> ¬øCu√°ntos jugadores?</h2>
                <p class="card-desc">Pueden ser de 2 a 6 jugadores.</p>

                <input type="number" id="playerCountInput" min="2" max="6" value="2">

                <button class="btn btn-confirm" id="confirmPlayerCountBtn">
                    <i class="ph ph-check-circle"></i>
                    Confirmar jugadores
                </button>

                <!-- Edici√≥n de nombres de jugadores locales -->
                <div class="players-names-wrapper hidden" id="playersNamesWrapper">
                    <h3 class="players-names-title">
                        <i class="ph ph-identification-card"></i> Nombres de jugadores
                    </h3>

                    <div id="playerNamesFields" class="players-names-fields">
                        <!-- JS va a inyectar inputs Nombre Jugador X -->
                    </div>

                    <button class="btn btn-confirm" id="confirmNamesBtn">
                        <i class="ph ph-check-circle"></i>
                        Listo, usar estos nombres
                    </button>
                </div>
            </div>

            <!-- Paso 2B: Elegir IA (modo ia directo o chill vs ia) -->
            <div class="card card-ia hidden" id="iaSelectCard" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-target"></i> Eleg√≠ oponente IA</h2>
                <p class="card-desc">Cada IA tiene estilo, respeto y dificultad distinta.</p>

                <div class="ia-roster" id="iaRoster">
                    <!-- IA cards generadas por JS -->
                </div>

                <!-- Nombre del jugador humano contra la IA -->
                <div class="your-name-wrapper hidden" id="yourNameWrapper">
                    <h3 class="players-names-title">
                        <i class="ph ph-identification-card"></i> Tu nombre
                    </h3>

                    <input type="text" id="yourNameInput" class="name-input"
                        placeholder="Ej: Rodri, El Dedo M√°gico, etc." maxlength="20" />

                    <button class="btn btn-confirm" id="confirmYourNameBtn">
                        <i class="ph ph-check-circle"></i>
                        Usar este nombre
                    </button>
                </div>
            </div>

            <!-- Paso 3: Confirmaci√≥n final antes de jugar -->
            <div class="card card-start hidden" id="startMatchCard" data-aos="zoom-in">
                <h2 class="card-title"><i class="ph ph-sword"></i> ¬øListos?</h2>
                <p class="card-desc">Cuando empiece, se van a ir generando trucos y turnos autom√°ticamente.</p>

                <button class="btn btn-start" id="startMatchBtn">
                    <i class="ph ph-play-circle"></i>
                    Iniciar batalla
                </button>
            </div>

        </section>

        <!-- =========================================================
         GAME SCREEN (scoreboard + acci√≥n + log caster)
        ========================================================== -->
        <main class="game-area hidden" id="gameArea">

            <!-- SCOREBOARD -->
            <section class="scoreboard" data-aos="fade-up">
                <div id="playersContainer" class="players-container">
                    <!-- Player cards generadas por JS -->
                </div>
            </section>

            <section class="battle-zone">

                <!-- TRUCO ACTUAL -->
                <div class="current-trick card" data-aos="zoom-in">
                    <div class="trick-label">TRUCO LLAMADO AHORA</div>
                    <div class="trick-name" id="trickName">---</div>

                    <div class="trick-meta">
                        <div class="meta-chip" id="trickStyle"><i class="ph ph-lightning"></i> Estilo: -</div>
                        <div class="meta-chip" id="trickDiff"><i class="ph ph-star"></i> Dificultad: -</div>
                    </div>

                    <!-- BLOQUE DE INFO DE TURNO (NUEVO) -->
                    <div class="turn-info-block" id="turnInfoBlock">
                        <div class="turn-info-icon" id="turnInfoIcon">GO</div>
                        <div class="turn-info-text" id="turnInfoText">
                            <!-- JS pone ac√°:
                                 <span class="highlight-name">Jugador 1</span> tiene que
                                 <span class="highlight-action">DEMOSTRAR</span> el truco.
                                 √≥
                                 <span class="highlight-name">Jugador 2</span> tiene que
                                 <span class="highlight-action">COPIAR</span> a
                                 <span class="highlight-name">Jugador 1</span>.
                            -->
                        </div>
                    </div>
                </div>

                <!-- ACCIONES DEL JUGADOR ACTUAL -->
                <div class="action-panel card" data-aos="zoom-in">
                    <h3 class="panel-title"><i class="ph ph-hand-pointing"></i> ¬øC√≥mo te sali√≥?</h3>

                    <div class="action-buttons">
                        <button class="btn action-btn clean" id="btnClean">
                            <i class="ph ph-check-circle"></i>
                            <span>LIMPIO</span>
                        </button>

                        <button class="btn action-btn sketchy" id="btnSketchy">
                            <i class="ph ph-warning-circle"></i>
                            <span>MEDIO SKETCHY</span>
                        </button>

                        <button class="btn action-btn fail" id="btnFail">
                            <i class="ph ph-x-circle"></i>
                            <span>FALL√â FEO</span>
                        </button>
                    </div>

                    <p class="action-hint">Esto afecta Respeto y puede dar letras al rival.</p>
                </div>

                <!-- MATCH LOG -->
                <div class="match-log card" data-aos="zoom-in">
                    <h3 class="panel-title"><i class="ph ph-chat-centered-dots"></i> Log de la batalla</h3>
                    <div class="log-feed" id="logFeed">
                        <!-- Comentarios del caster -->
                    </div>
                </div>

            </section>

        </main>

        <!-- =========================================================
         FOOTER
        ========================================================== -->
        <footer class="app-footer">
            <p>Fingerblade Alpha ‚Ä¢ v 1.0.0 ‚Ä¢ <span class="accent">By Rodri</span></p>
        </footer>

    </div> <!-- .app-wrapper -->

    <!-- =========================================================
       LIBS + GAME LOGIC
    ========================================================== -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="js/game.js"></script>

<script>
AOS.init({
  once: true,
  duration: 600,
  easing: 'ease-out-cubic'
});

window.addEventListener('load', () => {
  const splash        = document.getElementById('splashScreen');
  const subtitleEl    = document.getElementById('splashSubtitle');
  const tapHintEl     = document.getElementById('splashTapHint');
  const logoEl        = splash.querySelector('.splash-logo');
  const appWrapper    = document.querySelector('.app-wrapper');

  // bloquea clicks al contenido hasta cerrar splash
  appWrapper.style.pointerEvents = 'none';

  // mensajes arcade random
  const mensajes = [
    "Cargando Respeto...",
    "Sincronizando Trucks...",
    "Barriendo Coliseo SkatePark...",
    "Afilando Trucks...",
    "Listo para humillar..."
  ];
  subtitleEl.textContent = mensajes[Math.floor(Math.random() * mensajes.length)];

  // sonido de inicio
  const whoosh = new Audio("imagenes/mixkit-metal-hit-woosh-1485.wav");
  whoosh.volume = 0.8;
  whoosh.preload = "auto";

  let splashClosed = false;

  async function handleFirstTap(e) {
    e.preventDefault(); // evita que pase el click al men√∫
    if (splashClosed) return;

    try {
      whoosh.currentTime = 0;
      await whoosh.play();
    } catch (err) {
      console.warn("no se pudo reproducir audio a√∫n:", err);
    }

    // animaci√≥n visual del logo
    logoEl.animate(
      [
        { transform: 'scale(1)', filter: 'brightness(1)' },
        { transform: 'scale(1.2)', filter: 'brightness(1.4)' },
        { transform: 'scale(0.9)', filter: 'brightness(0.9)' },
        { transform: 'scale(1)', filter: 'brightness(1)' }
      ],
      { duration: 600, easing: 'ease-out' }
    );

    subtitleEl.textContent = "Entrando...";
    tapHintEl.style.opacity = "0";

    // fade out suave
    splash.classList.add('is-hidden');
    splashClosed = true;

    setTimeout(() => {
      splash.remove();
      appWrapper.style.pointerEvents = 'all'; // reactiva clicks al juego
    }, 700);

    window.removeEventListener('pointerdown', handleFirstTap);
  }

  window.addEventListener('pointerdown', handleFirstTap);
});
</script>







</body>

</html>
